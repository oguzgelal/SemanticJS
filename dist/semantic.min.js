!function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y={debug:!0};e=function(){function a(){this.code=d,this.name=d,this.notice=d,this.message=d}return a.prototype.toString=function(){return this.name+" ("+this.code+") : "+this.notice},a.prototype.details=function(){return this.name+" ("+this.code+") : "+this.message},a}(),f=function(){function a(a){this.code=2,this.name="URI generation failed",this.notice="URI cannot be created.",this.message=a,y.debug&&console.log(this.details())}var b=e;return a.prototype=new b,a}(),g=function(){var a=function(a,b,c){var d=f;if("string"!=typeof a)throw new d("The name parameter should be of type string.");if("string"!=typeof b)throw new d("The domain parameter should be of type string.");if("string"!=typeof c)throw new d("The path parameter should be of type string.");if(!a||a&&0===a.length)throw new d("Name parameter not present or empty.");if(!b||b&&0===b.length)throw new d("Domain parameter not present or empty.");if(!c||c&&0===c.length)throw new d("Path parameter not present or empty.");return"/"===b.substring(b.length-1,b.length)&&(b=b.substring(0,b.length-1)),"/"===c.substring(c.length-1,c.length)&&(c=c.substring(0,c.length-1)),"/"===c.substring(0,1)&&(c=c.substring(1,c.length)),b.match(/(\w)*:\/\//gi)||(b="http://"+b),b+"/"+c+"/"+a};return a}(),h=function(){var a=function(a){return"/"===a.substring(a.length-1,a.length)&&(a=a.substring(0,a.length-1)),a.match(/(\w)*:\/\//gi)||(a="http://"+a),a};return a}(),i=function(){var a={createURI:g,stripDomain:h};return a}(),j=function(){function a(a){this.code=0,this.name="Create entity failed",this.notice="Entity cannot be created",this.message=a,y.debug&&console.log(this.details())}var b=e;return a.prototype=new b,a}(),k=function(){var a=function(a){var b=p,c=i,d=j;if("string"!=typeof a)throw new d("Argument of 'createEntity' must be of type 'String' and indicate the name of the entity.");if(!a||a&&0===a.length)throw new d("Argument of 'createEntity' is blank or empty.");var e=c.createURI(a,this.ontology.domain,"entity");if(-1!=this.ontology.occupiedURIs.indexOf(e))throw new d("An entity with the same name already exists.");this.ontology.occupiedURIs.push(e);var f=new b(a);return f.parent=this,f.ontology=this.ontology,this.subs[a]=f,this.ontology.entityCollection[a]=f,y.debug&&console.log("Entity '"+a+"' created under the entity '"+this.name+"'."),f};return a}(),l=function(){function a(a){this.code=3,this.name="Make sub entity failed",this.notice="Sub entity making failed.",this.message=a,y.debug&&console.log(this.details())}var b=e;return a.prototype=new b,a}(),m=function(){var a=function(a){var b=l;if("object"!=typeof a||!a.type||"entity"!==a.type)throw new b("The argument of makeSubEntity must be entity object.");if(null!==this.parent)throw new b("'"+this.name+"' Entity already has a parent");a.subs[this.name]=this,this.parent=a,y.debug&&console.log("Entity '"+this.name+"' is now a sub-entity of '"+a.name+"'.")};return a}(),n=function(){function a(a){this.code=5,this.name="Add relation failed",this.notice="Relation cannot be added",this.message=a,y.debug&&console.log(this.details())}var b=e;return a.prototype=new b,a}(),o=function(){var a=function(a,b){var c=n;if("object"!=typeof a||!a.type||"relation"!==a.type)throw new c("The first argument of addRelation must be a relation object.");if("object"!=typeof b||!b.type||"entity"!==b.type&&"literal"!==b.type)throw new c("The second argument of addRelation must be a entity or literal object.");this.relOut.push([a,b]),"entity"===b.type&&b.relIn.push([a,this])};return a}(),p=function(){function a(a){this.type="entity",this.name=a,this.URI=null,this.relOut=[],this.relIn=[],this.individuals={},this.subs={},this.parent=null,this.ontology=null}return a.prototype.createSubEntity=k,a.prototype.makeSubEntity=m,a.prototype.addRelation=o,a}(),q=function(){var a=function(a){var b=p,c=i,d=j;if("string"!=typeof a)throw new d("Argument of 'createEntity' must be of type 'String' and indicate the name of the entity.");if(!a||a&&0===a.length)throw new d("Argument of 'createEntity' is blank or empty.");if(!this.name)throw new d("Unique name of the ontology should be set before creating any entities.");if(!this.domain)throw new d("Unique domain of the ontology should be set before creating any entities.");var e=c.createURI(a,this.domain,"entity");if(-1!=this.occupiedURIs.indexOf(e))throw new d("An entity with the same name already exists.");this.occupiedURIs.push(e);var f=new b(a);return f.ontology=this,f.URI=e,this.entityCollection[a]=f,y.debug&&console.log("Entity '"+a+"' created."),f};return a}(),r=function(){function a(a){this.type="relation",this.name=a,this.URI=null,this.ontology=null}return a}(),s=function(){function a(a){this.code=4,this.name="Create relation failed",this.notice="Relation cannot be created",this.message=a,y.debug&&console.log(this.details())}var b=e;return a.prototype=new b,a}(),t=function(){var a=function(a){var b=r,c=i,d=s;if("string"!=typeof a)throw new d("Argument of 'createRelation' must be of type 'String' and indicate the name of the relation.");if(!a||a&&0===a.length)throw new d("Argument of 'createRelation' is blank or empty.");if(!this.name)throw new d("Unique name of the ontology should be set before creating any entities.");if(!this.domain)throw new d("Unique domain of the ontology should be set before creating any entities.");var e=c.createURI(a,this.domain,"relation");if(-1!=this.occupiedURIs.indexOf(e))throw new d("A relation with the same name already exists.");this.occupiedURIs.push(e);var f=new b(a);return f.ontology=this,f.URI=e,y.debug&&console.log("Relation '"+a+"' created."),f};return a}(),u=function(){function a(a,b){this.type="ontology",this.name=a,this.URI=null,this.domain=b,this.entityCollection={},this.occupiedURIs=[]}return a.prototype.createEntity=q,a.prototype.createRelation=t,a}(),v=function(){function a(a){this.code=1,this.name="Create ontology failed",this.notice="Ontology cannot be created",this.message=a,y.debug&&console.log(this.details())}var b=e;return a.prototype=new b,a}(),w=function(){var a=function(a,b){var c=u,d=i,e=v;if("string"!=typeof a)throw new e("Name argument of 'createOntology' must be of type 'String'.");if("string"!=typeof b)throw new e("Domain argument of 'createOntology' must be of type 'String'.");if(!a||a&&0===a.length)throw new e("Name argument not present or blank.");if(!b||b&&0===b.length)throw new e("Domain argument not present or blank.");if(b=d.stripDomain(b),-1!=this.occupiedDomains.indexOf(b))throw new e("An ontology with the same domain already exists.");this.occupiedDomains.push(b);var f=new c(a,b),g=d.createURI(a,b,"ontology");return f.URI=g,this.ontologies[g]=f,y.debug&&console.log("Ontology '"+a+"' created."),f};return a}(),x=function(){function a(){this.ontologies={},this.occupiedDomains=[]}return a.prototype.createOntology=w,a.prototype.setDebug=function(a){"boolean"==typeof a&&(y.debug=a)},a.prototype.getDebug=function(){return y.debug},a}(),function(b){"function"==typeof define&&define.amd?define([],function(){return b}):"undefined"!=typeof exports?module.exports=b:a.Semant=b}(x)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{});